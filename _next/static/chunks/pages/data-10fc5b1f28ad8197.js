(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1440:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return e(4237)}])},8123:function(n,t,e){"use strict";e.d(t,{l:function(){return f}});var r=e(7297),a=e(5893),i=(e(7294),e(6829)),o=e(1664),s=e.n(o),u=e(1163),c=e(6638),l=e(4682);function d(){var n=(0,r.Z)(["\n  width: 50px;\n  height: 100vh;\n  background-color: black;\n"]);return d=function(){return n},n}function h(){var n=(0,r.Z)(["\n  &:hover {\n    cursor: pointer;\n    background-color: # !important;\n    color: black !important;\n  }\n\n  ","\n"]);return h=function(){return n},n}var x=i.Z.div(d()),p=i.Z.div(h(),(function(n){return n.active&&"\nbackground-color: #04AA6D !important;\ncolor: white !important;\n  "})),f=function(){var n=(0,u.useRouter)();return(0,a.jsxs)(x,{children:[(0,a.jsx)(p,{active:"/"===n.pathname,children:(0,a.jsx)(s(),{href:"/",children:(0,a.jsx)(c.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})}),(0,a.jsx)(p,{active:"/data"===n.pathname,children:(0,a.jsx)(s(),{href:"/data",children:(0,a.jsx)(l.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})})]})}},4237:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return hn}});var r=e(7568),a=e(4051),i=e.n(a),o=e(5893),s=e(7294),u=e(7357),c=e(8409),l=e(44),d=function(n){var t=n.value,e=n.onChange;return(0,o.jsxs)(c.Z,{variant:"fullWidth",value:t,onChange:function(n,t){e(n,t)},children:[(0,o.jsx)(l.Z,{disableRipple:!0,label:"Proximity Labeling"}),(0,o.jsx)(l.Z,{disableRipple:!0,label:"Pulse Silac"}),(0,o.jsx)(l.Z,{disableRipple:!0,label:"Localisation and Expression"})]})},h=e(8123),x=e(6770),p=e(5819),f=function(n){var t=n.options,e=n.value,r=n.onChange;return(0,o.jsx)("div",{style:{padding:"10px"},children:(0,o.jsx)(x.Z,{sx:{height:"40px"},value:e,onChange:r,children:t.map((function(n){return(0,o.jsx)(p.Z,{"data-testid":"".concat("protein-select","-",n),value:n,children:n},n)}))})})},v=e(3471),m=e(7297),g=e(6829),j=e(9332),y=e(3841),b=e(4054),w=e(3321),Z=e(5985);function F(n,t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",n),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}var C=function(n,t){var e="",r=t.map((function(n){return n.field}));e+=r.join(",")+"\n",console.log(e);var a=!0,i=!1,o=void 0;try{for(var s,u=function(){var n=s.value;e+=r.map((function(t){return n[t]})).join(",")+"\n"},c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)u()}catch(l){i=!0,o=l}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return e},k=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};function A(n){return!isNaN(parseFloat(n))&&isFinite(n)}var _=function(n){var t=n.data,e=n.protein,r=(0,s.useState)(""),a=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],d=c[1],h=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"log2FC"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["Saint Score"]>=parseFloat(""===a?"-100000":a)&&n.log2FC>=parseFloat(""===l?"-10000":l)})),x=t[0].map((function(n){return{field:n,type:["Saint Score","log2FC","id"].includes(n)?"number":"string",headerName:k(n),headerClassName:"grid-header",width:"id"===n?50:100}}));return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(y.Z,{children:"Minimum Saint Score"}),(0,o.jsx)(j.Z,{sx:{width:"200px"},value:a,onChange:function(n){return i(n.target.value)},error:!A(a)&&""!==a})]}),(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(y.Z,{children:"Minimum log2 fold change"}),(0,o.jsx)(j.Z,{sx:{width:"250px"},value:l,onChange:function(n){return d(n.target.value)},error:!A(l)&&""!==l})]})]}),(0,o.jsx)(u.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,o.jsx)(Z._,{rowHeight:25,disableColumnMenu:!0,rows:h,columns:x})}),(0,o.jsx)(w.Z,{onClick:function(){return F("saint_".concat(e,".csv"),C(h,x))},children:"Export"})]})},S=e(6329),D=e(3023),M=e(5358),N=e(6657),B=e(3222),E=e(4545),P=e(4888);function K(){var n=(0,m.Z)(["\n  display: block;\n  padding: 5px;\n  border-style: ridge;\n  background-color: white;\n"]);return K=function(){return n},n}var L=g.Z.div(K()),z=function(n){var t=n.active,e=n.payload;return t&&e&&e.length?(0,o.jsx)(L,{className:"custom-tooltip",children:(0,o.jsx)("div",{children:e[0].payload.name})}):null},R=function(n){return n.sort(),n[Math.floor(.9*n.length)]},U=function(n){var t=n.data.slice(1).map((function(n){return{name:n[2],x:parseFloat(n[4]),y:parseFloat(n[3]),z:1}}));return(0,o.jsxs)(S.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,o.jsx)(D.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",type:"number",name:"log2FC"}),(0,o.jsx)(M.B,{label:{value:"SaintScore",angle:-90,position:"insideLeft",textAnchor:"middle"},dataKey:"y",domain:[0,1],type:"number",name:"saint score"}),(0,o.jsx)(N.d,{dataKey:"z",range:[0,30]}),(0,o.jsx)(B.b,{name:"test",data:t.slice(),fill:"#04AA6D"}),(0,o.jsx)(E.d,{x:R(t.map((function(n){return n.x}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(E.d,{y:R(t.map((function(n){return n.y}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(P.u,{content:(0,o.jsx)(z,{}),cursor:{strokeDasharray:"3 3"}})]})},I=e(7460),Q=e.n(I),W=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Promise((function(n,e){return Q().parse(t,{skipEmptyLines:!0,download:!0,complete:function(t){n(t.data)},error:function(n){e(n)}})})),n.next=3,e;case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),G=e(8456);function H(){var n=(0,m.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return H=function(){return n},n}var O=g.Z.div(H()),T=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IP/saint_score_web.csv"),n.next=3,W(e);case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),X=function(n){var t=n.protein,e=(0,v.useQuery)([t],(function(){return T(t)})),r=e.status,a=e.data;return"loading"===r?(0,o.jsx)(G.Z,{}):"error"===r?(0,o.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O,{children:(0,o.jsx)(_,{data:a,protein:t})}),(0,o.jsx)(O,{children:(0,o.jsx)(U,{data:a})})]})},q=function(n){var t=n.data,e=n.protein,r=(0,s.useState)(""),a=r[0],i=r[1],c=(0,s.useState)(""),l=c[0],d=c[1],h=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"P-value"===t[0][r]||"log2(Fold change)"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["P-value"]<=parseFloat(""===a?"100000":a)&&n["log2(Fold change)"]>=parseFloat(""===l?"-10000":l)})),x=t[0].map((function(n){return{field:n,headerName:k(n),type:["log2(Fold change)","P-value","id"].includes(n)?"number":"string",headerClassName:"grid-header",width:"id"===n?70:140}}));return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(y.Z,{children:"Maximum P-value"}),(0,o.jsx)(j.Z,{sx:{width:"200px"},value:a,onChange:function(n){return i(n.target.value)},error:!A(a)&&""!==a})]}),(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(y.Z,{children:"Minimum log2 fold change"}),(0,o.jsx)(j.Z,{sx:{width:"250px"},value:l,onChange:function(n){return d(n.target.value)},error:!A(l)&&""!==l})]})]}),(0,o.jsx)(u.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,o.jsx)(Z._,{rowHeight:25,disableColumnMenu:!0,rows:h,columns:x})}),(0,o.jsx)(w.Z,{onClick:function(){return F("PULSE_".concat(e,".csv"),C(h,x))},children:"Export"})]})},J=e(2763),V=function(n){var t=n.data.slice(1).map((function(n){return{name:n[1],x:parseFloat(n[2]),y:-1*Math.log10(parseFloat(n[3])),z:1}})),e=t.filter((function(n){return n.y!==1/0}));return(0,o.jsxs)(S.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,o.jsx)(B.b,{name:"test",data:e,fill:"#04AA6D"}),(0,o.jsx)(J.e,{dataKey:"name"}),(0,o.jsx)(D.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",type:"number",name:"log2FC"}),(0,o.jsx)(M.B,{label:{value:"-log10pvalue",angle:-90,position:"insideLeft",textAnchor:"middle"},dataKey:"y",name:"-log10pvalue"}),(0,o.jsx)(N.d,{dataKey:"z",range:[0,30]}),(0,o.jsx)(E.d,{x:R(t.map((function(n){return n.x}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(E.d,{y:R(t.map((function(n){return n.y}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(P.u,{content:(0,o.jsx)(z,{}),cursor:{strokeDasharray:"3 3"}})]})};function Y(){var n=(0,m.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return Y=function(){return n},n}var $=g.Z.div(Y()),nn=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/PULSE/volcano_plot_web.csv"),n.next=3,W(e);case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),tn=function(n){var t=n.protein,e=(0,v.useQuery)([t],(function(){return nn(t)})),r=e.status,a=e.data;return"loading"===r?(0,o.jsx)(G.Z,{}):"error"===r?(0,o.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($,{children:(0,o.jsx)(q,{data:a,protein:t})}),(0,o.jsx)($,{children:(0,o.jsx)(V,{data:a})})]})},en=function(n){var t=n.protein,e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IF/").concat(t,"-Final.jpg"),r="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/WB/").concat(t,".jpg");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{alt:"N/A",src:r,height:"500px"}),(0,o.jsx)("img",{alt:"N/A",src:e,height:"500px"})]})};function rn(){var n=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 30px;\n  gap: 20px;\n"]);return rn=function(){return n},n}var an=g.Z.div(rn()),on=function(n){var t=n.section,e=n.protein;return 0===t?(0,o.jsx)(an,{children:(0,o.jsx)(X,{protein:e})}):1===t?(0,o.jsx)(an,{children:(0,o.jsx)(tn,{protein:e})}):2===t?(0,o.jsx)(an,{children:(0,o.jsx)(en,{protein:e})}):(0,o.jsx)(an,{children:"dataDisplay"})},sn=e(5113),un=e(1265),cn=e(1927),ln=function(){var n=(0,r.Z)(i().mark((function n(){var t,e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",n.next=3,fetch("https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",{method:"get"});case 3:return t=n.sent,n.next=6,t.text();case 6:return e=n.sent,r=e.split(/\r?\n/).filter((function(n){return n})),n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),dn=(0,un.Z)({palette:{primary:{main:"#04AA6D"},secondary:{main:"#04AA6D"}}}),hn=function(){var n=(0,v.useQuery)(["proteins"],ln),t=n.status,e=n.data,r=(0,s.useState)("AMBRA1"),a=r[0],i=r[1],c=(0,s.useState)(0),l=c[0],x=c[1];return"loading"===t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.l,{}),(0,o.jsx)("span",{children:"isLoading"})]}):(0,o.jsx)(cn.Z,{theme:dn,children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)(h.l,{}),(0,o.jsx)(sn.Z,{elevation:20,sx:{maxWidth:"1300px"},children:(0,o.jsxs)("div",{style:{display:"block"},children:[(0,o.jsxs)(u.Z,{sx:{display:"flex",borderBottom:"1px solid grey"},children:[(0,o.jsx)(f,{options:e,value:a,onChange:function(n){i(n.target.value)}}),(0,o.jsx)(d,{value:l,onChange:function(n,t){x(t)}})]}),(0,o.jsx)(on,{section:l,protein:a})]})})]})})}}},function(n){n.O(0,[177,552,774,888,179],(function(){return t=1440,n(n.s=t);var t}));var t=n.O();_N_E=t}]);