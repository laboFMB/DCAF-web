(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1440:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return e(4237)}])},8123:function(n,t,e){"use strict";e.d(t,{l:function(){return f}});var r=e(7297),a=e(5893),i=(e(7294),e(6829)),o=e(1664),s=e.n(o),l=e(1163),u=e(6638),c=e(4682);function d(){var n=(0,r.Z)(["\n  width: 50px;\n  height: 100vh;\n  background-color: black;\n"]);return d=function(){return n},n}function h(){var n=(0,r.Z)(["\n  &:hover {\n    cursor: pointer;\n    background-color: # !important;\n    color: black !important;\n  }\n\n  ","\n"]);return h=function(){return n},n}var p=i.Z.div(d()),x=i.Z.div(h(),(function(n){return n.active&&"\nbackground-color: #04AA6D !important;\ncolor: white !important;\n  "})),f=function(){var n=(0,l.useRouter)();return(0,a.jsxs)(p,{children:[(0,a.jsx)(x,{active:"/"===n.pathname,children:(0,a.jsx)(s(),{href:"/",children:(0,a.jsx)(u.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})}),(0,a.jsx)(x,{active:"/data"===n.pathname,children:(0,a.jsx)(s(),{href:"/data",children:(0,a.jsx)(c.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})})]})}},4237:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return fn}});var r=e(7568),a=e(4051),i=e.n(a),o=e(5893),s=e(7294),l=e(7357),u=e(8409),c=e(44),d=function(n){var t=n.value,e=n.onChange;return(0,o.jsxs)(u.Z,{variant:"fullWidth",value:t,onChange:function(n,t){e(n,t)},children:[(0,o.jsx)(c.Z,{disableRipple:!0,label:"Proximity Labeling"}),(0,o.jsx)(c.Z,{disableRipple:!0,label:"Pulse Silac"}),(0,o.jsx)(c.Z,{disableRipple:!0,label:"Localisation and Expression"})]})},h=e(8123),p=e(6770),x=e(5819),f=function(n){var t=n.options,e=n.value,r=n.onChange;return(0,o.jsx)("div",{style:{padding:"10px"},children:(0,o.jsx)(p.Z,{sx:{height:"40px"},value:e,onChange:r,children:t.map((function(n){return(0,o.jsx)(x.Z,{"data-testid":"".concat("protein-select","-",n),value:n,children:n},n)}))})})},m=e(3471),v=e(7297),g=e(6829),j=e(3321),y=e(5985);function F(n,t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",n),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}var b=function(n,t){var e="",r=t.map((function(n){return n.field}));e+=r.join(",")+"\n",console.log(e);var a=!0,i=!1,o=void 0;try{for(var s,l=function(){var n=s.value;e+=r.map((function(t){return n[t]})).join(",")+"\n"},u=n[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)l()}catch(c){i=!0,o=c}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return e},C=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},w=function(n){var t=n.data,e=n.protein,r=n.minSaintScore,a=n.minLog2FC,i=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"log2FC"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["Saint Score"]>=parseFloat(""===r?"-100000":r)&&n.log2FC>=parseFloat(""===a?"-10000":a)})),s=t[0].map((function(n){return{field:n,type:["Saint Score","log2FC","id"].includes(n)?"number":"string",headerName:C(n),headerClassName:"grid-header",width:"id"===n?50:100}}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,o.jsx)(y._,{rowHeight:25,disableColumnMenu:!0,rows:i,columns:s})}),(0,o.jsx)(j.Z,{onClick:function(){return F("saint_".concat(e,".csv"),b(i,s))},children:"Export"})]})},Z=e(6329),A=e(3023),k=e(5358),S=e(6657),D=e(3222),M=e(4545),_=e(4888),B=e(3558);function L(){var n=(0,v.Z)(["\n  display: block;\n  padding: 5px;\n  border-style: ridge;\n  background-color: white;\n"]);return L=function(){return n},n}var P=g.Z.div(L()),N=function(n){var t=n.active,e=n.payload;return t&&e&&e.length?(0,o.jsx)(P,{className:"custom-tooltip",children:(0,o.jsx)("div",{children:e[0].payload.name})}):null},E=function(n){return n.sort(),n[Math.floor(.9*n.length)]},K=function(n){return{name:n[2],x:parseFloat(n[4]),y:parseFloat(n[3]),z:1}},U=function(n){var t=n.data,e=n.protein,r=n.minSaintScore,a=n.minLog2FC,i=[],s=[],l=[],u=[],c=[],d=[],h=!0,p=!1,x=void 0;try{for(var f,m=t.slice(1)[Symbol.iterator]();!(h=(f=m.next()).done);h=!0){var v=f.value;"CUL4A"===v[2]||"CUL4B"===v[2]?c.push(K(v)):"DDB1"===v[2]?u.push(K(v)):v[2]===e?d.push(K(v)):parseFloat(v[3])>=r&&parseFloat(v[4])>=a?(s.push(K(v)),i.push(K(v))):(l.push(K(v)),i.push(K(v)))}}catch(g){p=!0,x=g}finally{try{h||null==m.return||m.return()}finally{if(p)throw x}}return(0,o.jsxs)(Z.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,o.jsx)(A.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,o.jsx)(k.B,{label:{value:"SaintScore",angle:-90,position:"insideLeft",textAnchor:"middle"},dataKey:"y",domain:[0,1],type:"number",name:"saint score"}),(0,o.jsx)(S.d,{dataKey:"z",range:[0,30]}),(0,o.jsx)(D.b,{name:"Other",data:s,fill:"#04AA6D"}),(0,o.jsx)(D.b,{name:"filtered",data:l,fill:"#333333"}),(0,o.jsx)(D.b,{name:"Cul4A & Cul4B",data:c,fill:"#FF0000"}),(0,o.jsx)(D.b,{name:"DDB1",data:u,fill:"#0000FF"}),(0,o.jsx)(D.b,{name:"DCAF",data:d,fill:"#9900CC"}),(0,o.jsx)(M.d,{x:E(i.map((function(n){return n.x}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(M.d,{y:E(i.map((function(n){return n.y}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(_.u,{content:(0,o.jsx)(N,{}),cursor:{strokeDasharray:"3 3"}}),(0,o.jsx)(B.D,{verticalAlign:"top",height:36,payload:[{value:"DCAF",color:"#9900CC"},{value:"CUL4A & CUL4B",color:"#FF0000"},{value:"DDB1",color:"#0000FF",id:"DDB1"}]})]})},z=e(7460),R=e.n(z),O=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Promise((function(n,e){return R().parse(t,{skipEmptyLines:!0,download:!0,complete:function(t){n(t.data)},error:function(n){e(n)}})})),n.next=3,e;case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),V=e(8456),I=e(9332),Q=e(3841),W=e(4054);function G(n){return!isNaN(parseFloat(n))&&isFinite(n)}function H(){var n=(0,v.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return H=function(){return n},n}var T=g.Z.div(H()),X=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IP/saint_score_web.csv"),n.next=3,O(e);case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),q=function(n){var t=n.protein,e=(0,m.useQuery)([t],(function(){return X(t)})),r=e.status,a=e.data,i=(0,s.useState)("0.7"),l=i[0],u=i[1],c=(0,s.useState)(""),d=c[0],h=c[1],p=""===l?"-10000":parseFloat(l),x=""===d?"-10000":parseFloat(d);return"loading"===r?(0,o.jsx)(V.Z,{}):"error"===r?(0,o.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(T,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(Q.Z,{children:"Minimum Saint Score"}),(0,o.jsx)(I.Z,{sx:{width:"200px"},value:l,onChange:function(n){return u(n.target.value)},error:!G(l)&&""!==l})]}),(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(Q.Z,{children:"Minimum log2 fold change"}),(0,o.jsx)(I.Z,{sx:{width:"250px"},value:d,onChange:function(n){return h(n.target.value)},error:!G(d)&&""!==d})]})]})}),(0,o.jsx)(w,{data:a,protein:t,minSaintScore:p,minLog2FC:x})]}),(0,o.jsx)(T,{children:(0,o.jsx)(U,{data:a,protein:t,minSaintScore:p,minLog2FC:x})})]})},J=function(n){var t=n.data,e=n.protein,r=n.maxPValue,a=n.minLog2FC,i=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"P-value"===t[0][r]||"log2(Fold change)"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["P-value"]<=parseFloat(""===r?"100000":r)&&n["log2(Fold change)"]>=parseFloat(""===a?"-10000":a)})),s=t[0].map((function(n){return{field:n,headerName:C(n),type:["log2(Fold change)","P-value","id"].includes(n)?"number":"string",headerClassName:"grid-header",width:"id"===n?70:140}}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,o.jsx)(y._,{rowHeight:25,disableColumnMenu:!0,rows:i,columns:s})}),(0,o.jsx)(j.Z,{onClick:function(){return F("PULSE_".concat(e,".csv"),b(i,s))},children:"Export"})]})},Y=e(2763),$=function(n){return{name:n[1],x:parseFloat(n[2]),y:-1*Math.log10(parseFloat(n[3])),z:1}},nn=function(n){var t=n.data,e=n.maxPValue,r=n.minLog2FC,a=[],i=[],s=[],l=!0,u=!1,c=void 0;try{for(var d,h=t.slice(1)[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;-1*Math.log10(parseFloat(p[3]))<=e&&parseFloat(p[2])>=r?(i.push($(p)),a.push($(p))):(s.push($(p)),a.push($(p)))}}catch(x){u=!0,c=x}finally{try{l||null==h.return||h.return()}finally{if(u)throw c}}return console.log(a),console.log(i),console.log(s),(0,o.jsxs)(Z.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,o.jsx)(D.b,{name:"Other",data:i,fill:"#04AA6D"}),(0,o.jsx)(D.b,{name:"filtered",data:s,fill:"#333333"}),(0,o.jsx)(Y.e,{dataKey:"name"}),(0,o.jsx)(A.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,o.jsx)(k.B,{label:{value:"-log10pvalue",angle:-90,position:"insideLeft",textAnchor:"middle"},domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],dataKey:"y",name:"-log10pvalue"}),(0,o.jsx)(S.d,{dataKey:"z",range:[0,30]}),(0,o.jsx)(M.d,{x:E(a.map((function(n){return n.x}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(M.d,{y:E(a.map((function(n){return n.y}))),stroke:"grey",strokeDasharray:"3 3"}),(0,o.jsx)(_.u,{content:(0,o.jsx)(N,{}),cursor:{strokeDasharray:"3 3"}})]})};function tn(){var n=(0,v.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return tn=function(){return n},n}var en=g.Z.div(tn()),rn=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/PULSE/volcano_plot_web.csv"),n.next=3,O(e);case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),an=function(n){var t=n.protein,e=(0,m.useQuery)([t],(function(){return rn(t)})),r=e.status,a=e.data,i=(0,s.useState)("1.3"),l=i[0],u=i[1],c=(0,s.useState)("1"),d=c[0],h=c[1],p=""===l?"10000":parseFloat(l),x=""===d?"-10000":parseFloat(d);return"loading"===r?(0,o.jsx)(V.Z,{}):"error"===r?(0,o.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(en,{children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(Q.Z,{children:"Maximum P-value"}),(0,o.jsx)(I.Z,{sx:{width:"200px"},value:l,onChange:function(n){return u(n.target.value)},error:!G(l)&&""!==l})]}),(0,o.jsxs)(W.Z,{children:[(0,o.jsx)(Q.Z,{children:"Minimum log2 fold change"}),(0,o.jsx)(I.Z,{sx:{width:"250px"},value:d,onChange:function(n){return h(n.target.value)},error:!G(d)&&""!==d})]})]}),(0,o.jsx)(J,{data:a,protein:t,maxPValue:p,minLog2FC:x})]})}),(0,o.jsx)(en,{children:(0,o.jsx)(nn,{data:a,maxPValue:p,minLog2FC:x})})]})},on=function(n){var t=n.protein,e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IF/").concat(t,"-Final.jpg"),r="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/WB/").concat(t,".jpg");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{alt:"N/A",src:r,height:"500px"}),(0,o.jsx)("img",{alt:"N/A",src:e,height:"500px"})]})};function sn(){var n=(0,v.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 30px;\n  gap: 20px;\n"]);return sn=function(){return n},n}var ln=g.Z.div(sn()),un=function(n){var t=n.section,e=n.protein;return 0===t?(0,o.jsx)(ln,{children:(0,o.jsx)(q,{protein:e})}):1===t?(0,o.jsx)(ln,{children:(0,o.jsx)(an,{protein:e})}):2===t?(0,o.jsx)(ln,{children:(0,o.jsx)(on,{protein:e})}):(0,o.jsx)(ln,{children:"dataDisplay"})},cn=e(5113),dn=e(1265),hn=e(1927),pn=function(){var n=(0,r.Z)(i().mark((function n(){var t,e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",n.next=3,fetch("https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",{method:"get"});case 3:return t=n.sent,n.next=6,t.text();case 6:return e=n.sent,r=e.split(/\r?\n/).filter((function(n){return n})),n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),xn=(0,dn.Z)({palette:{primary:{main:"#04AA6D"},secondary:{main:"#04AA6D"}}}),fn=function(){var n=(0,m.useQuery)(["proteins"],pn),t=n.status,e=n.data,r=(0,s.useState)("AMBRA1"),a=r[0],i=r[1],u=(0,s.useState)(0),c=u[0],p=u[1];return"loading"===t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.l,{}),(0,o.jsx)("span",{children:"isLoading"})]}):(0,o.jsx)(hn.Z,{theme:xn,children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)(h.l,{}),(0,o.jsx)(cn.Z,{elevation:20,sx:{maxWidth:"1300px"},children:(0,o.jsxs)("div",{style:{display:"block"},children:[(0,o.jsxs)(l.Z,{sx:{display:"flex",borderBottom:"1px solid grey"},children:[(0,o.jsx)(f,{options:e,value:a,onChange:function(n){i(n.target.value)}}),(0,o.jsx)(d,{value:c,onChange:function(n,t){p(t)}})]}),(0,o.jsx)(un,{section:c,protein:a})]})})]})})}}},function(n){n.O(0,[177,552,774,888,179],(function(){return t=1440,n(n.s=t);var t}));var t=n.O();_N_E=t}]);