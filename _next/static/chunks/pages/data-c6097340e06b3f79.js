(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1440:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return e(3165)}])},8123:function(n,t,e){"use strict";e.d(t,{l:function(){return f}});var r=e(7297),a=e(5893),i=(e(7294),e(6829)),o=e(1664),l=e.n(o),s=e(1163),u=e(6638),c=e(4682);function d(){var n=(0,r.Z)(["\n  width: 50px;\n  height: 100vh;\n  background-color: black;\n"]);return d=function(){return n},n}function h(){var n=(0,r.Z)(["\n  &:hover {\n    cursor: pointer;\n    background-color: # !important;\n    color: black !important;\n  }\n\n  ","\n"]);return h=function(){return n},n}var p=i.Z.div(d()),x=i.Z.div(h(),(function(n){return n.active&&"\nbackground-color: #04AA6D !important;\ncolor: white !important;\n  "})),f=function(){var n=(0,s.useRouter)();return(0,a.jsxs)(p,{children:[(0,a.jsx)(x,{active:"/"===n.pathname,children:(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)(u.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})}),(0,a.jsx)(x,{active:"/data"===n.pathname,children:(0,a.jsx)(l(),{href:"/data",children:(0,a.jsx)(c.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})})]})}},3165:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return gn}});var r=e(7568),a=e(4051),i=e.n(a),o=e(5893),l=e(7294),s=e(7357),u=e(8409),c=e(44),d=function(n){var t=n.value,e=n.onChange;return(0,o.jsxs)(u.Z,{variant:"fullWidth",value:t,onChange:function(n,t){e(n,t)},children:[(0,o.jsx)(c.Z,{disableRipple:!0,label:"Proximity Labeling"}),(0,o.jsx)(c.Z,{disableRipple:!0,label:"Pulse Silac"}),(0,o.jsx)(c.Z,{disableRipple:!0,label:"Localisation and Expression"})]})},h=e(8123),p=e(5945),x=e(5819),f=function(n){var t=n.options,e=n.value,r=n.onChange;return(0,o.jsx)("div",{style:{padding:"10px"},children:(0,o.jsx)(p.Z,{sx:{height:"40px"},value:e,onChange:r,children:t.map((function(n){return(0,o.jsx)(x.Z,{"data-testid":"".concat("protein-select","-",n),value:n,children:n},n)}))})})},m=e(3471),v=e(7297),g=e(6829),j=e(3321),y=e(5985);function F(n,t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",n),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}var b=function(n,t){var e="",r=t.map((function(n){return n.field}));e+=r.join(",")+"\n",console.log(e);var a=!0,i=!1,o=void 0;try{for(var l,s=function(){var n=l.value;e+=r.map((function(t){return n[t]})).join(",")+"\n"},u=n[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)s()}catch(c){i=!0,o=c}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return e},C=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},w=function(n){var t=n.data,e=n.protein,r=n.minSaintScore,a=n.minLog2FC,i=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"log2FC"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["Saint Score"]>=parseFloat(""===r?"-100000":r)&&n.log2FC>=parseFloat(""===a?"-10000":a)})),l=t[0].map((function(n){return{field:n,type:["Saint Score","log2FC","id"].includes(n)?"number":"string",headerName:C(n),headerClassName:"grid-header",width:"id"===n?50:100}}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,o.jsx)(y._,{rowHeight:25,disableColumnMenu:!0,rows:i,columns:l})}),(0,o.jsx)(j.Z,{onClick:function(){return F("saint_".concat(e,".csv"),b(i,l))},children:"Export"})]})},Z=e(1438),A=e(3023),S=e(5358),k=e(6657),M=e(3222),_=e(4888),D=e(3558);function L(){var n=(0,v.Z)(["\n  display: block;\n  padding: 5px;\n  border-style: ridge;\n  background-color: white;\n"]);return L=function(){return n},n}var B=g.Z.div(L()),P=function(n){var t=n.active,e=n.payload;return t&&e&&e.length?(0,o.jsx)(B,{className:"custom-tooltip",children:(0,o.jsx)("div",{children:e[0].payload.name})}):null},N="#FF0000",E="#9900CC",K="#0000FF",U="#AAAAAA",z="#04AA6D",R=function(n){return{name:n[2],x:parseFloat(n[4]),y:parseFloat(n[3]),z:1}},O=function(n){var t=n.data,e=n.protein,r=n.minSaintScore,a=n.minLog2FC,i=[],l=[],s=[],u=[],c=[],d=[],h=!0,p=!1,x=void 0;try{for(var f,m=t.slice(1)[Symbol.iterator]();!(h=(f=m.next()).done);h=!0){var v=f.value;"CUL4A"===v[2]||"CUL4B"===v[2]?c.push(R(v)):"DDB1"===v[2]?u.push(R(v)):v[2]===e?d.push(R(v)):parseFloat(v[3])>=r&&parseFloat(v[4])>=a?(l.push(R(v)),i.push(R(v))):(s.push(R(v)),i.push(R(v)))}}catch(g){p=!0,x=g}finally{try{h||null==m.return||m.return()}finally{if(p)throw x}}return(0,o.jsxs)(Z.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,o.jsx)(A.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,o.jsx)(S.B,{label:{value:"SaintScore",angle:-90,position:"insideLeft",textAnchor:"middle"},dataKey:"y",domain:[0,1],type:"number",name:"saint score"}),(0,o.jsx)(k.d,{dataKey:"z",range:[0,30]}),(0,o.jsx)(M.b,{name:"Other",data:l,fill:z}),(0,o.jsx)(M.b,{name:"filtered",data:s,fill:U}),(0,o.jsx)(M.b,{name:"Cul4A & Cul4B",data:c,fill:E}),(0,o.jsx)(M.b,{name:"DDB1",data:u,fill:K}),(0,o.jsx)(M.b,{name:"DCAF",data:d,fill:N}),(0,o.jsx)(_.u,{content:(0,o.jsx)(P,{}),cursor:{strokeDasharray:"3 3"}}),(0,o.jsx)(D.D,{verticalAlign:"top",height:36,payload:[{value:"DCAF",color:N},{value:"CUL4A & CUL4B",color:E},{value:"DDB1",color:K}]})]})},I=e(7460),Q=e.n(I),W=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Promise((function(n,e){return Q().parse(t,{skipEmptyLines:!0,download:!0,complete:function(t){n(t.data)},error:function(n){e(n)}})})),n.next=3,e;case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),G=e(8456),H=e(9332),T=e(3841),X=e(4054);function q(n){return!isNaN(parseFloat(n))&&isFinite(n)}function J(){var n=(0,v.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return J=function(){return n},n}var V=g.Z.div(J()),Y=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IP/saint_score_web.csv"),n.next=3,W(e);case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),$=function(n){var t=n.protein,e=(0,m.useQuery)([t],(function(){return Y(t)})),r=e.status,a=e.data,i=(0,l.useState)("0.7"),s=i[0],u=i[1],c=(0,l.useState)(""),d=c[0],h=c[1],p=""===s?"-10000":parseFloat(s),x=""===d?"-10000":parseFloat(d);return"loading"===r?(0,o.jsx)(G.Z,{}):"error"===r?(0,o.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(V,{children:[(0,o.jsx)("div",{children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(X.Z,{children:[(0,o.jsx)(T.Z,{children:"Minimum Saint Score"}),(0,o.jsx)(H.Z,{sx:{width:"200px"},value:s,onChange:function(n){return u(n.target.value)},error:!q(s)&&""!==s})]}),(0,o.jsxs)(X.Z,{children:[(0,o.jsx)(T.Z,{children:"Minimum log2 fold change"}),(0,o.jsx)(H.Z,{sx:{width:"250px"},value:d,onChange:function(n){return h(n.target.value)},error:!q(d)&&""!==d})]})]})}),(0,o.jsx)(w,{data:a,protein:t,minSaintScore:p,minLog2FC:x})]}),(0,o.jsx)(V,{children:(0,o.jsx)(O,{data:a,protein:t,minSaintScore:p,minLog2FC:x})})]})},nn=function(n){var t=n.data,e=n.protein,r=n.minPvalue,a=n.minLog2FC,i=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"P-value"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toExponential(2):"log2(Fold change)"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["P-value"]>=-1*Math.log10(parseFloat(""===r?"-100000":r))&&n["log2(Fold change)"]>=parseFloat(""===a?"-100000":a)})),l=t[0].map((function(n){return{field:n,headerName:C(n),type:["log2(Fold change)","P-value","id"].includes(n)?"number":"string",headerClassName:"grid-header",width:"id"===n?70:140}}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,o.jsx)(y._,{rowHeight:25,disableColumnMenu:!0,rows:i,columns:l})}),(0,o.jsx)(j.Z,{onClick:function(){return F("PULSE_".concat(e,".csv"),b(i,l))},children:"Export"})]})},tn=e(2763),en=function(n){return{name:n[1],x:parseFloat(n[2]),y:-1*Math.log10(parseFloat(n[3])),z:1}},rn=function(n){var t=n.data,e=n.minPvalue,r=n.minLog2FC,a=[],i=[],l=[],s=!0,u=!1,c=void 0;try{for(var d,h=t.slice(1)[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;-1*Math.log10(parseFloat(p[3]))>=e&&parseFloat(p[2])>=r?(i.push(en(p)),a.push(en(p))):(l.push(en(p)),a.push(en(p)))}}catch(x){u=!0,c=x}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}return console.log(a),console.log(i),console.log(l),(0,o.jsxs)(Z.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,o.jsx)(M.b,{name:"Other",data:i,fill:z}),(0,o.jsx)(M.b,{name:"filtered",data:l,fill:U}),(0,o.jsx)(tn.e,{dataKey:"name"}),(0,o.jsx)(A.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,o.jsx)(S.B,{label:{value:"-log10pvalue",angle:-90,position:"insideLeft",textAnchor:"middle"},domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],dataKey:"y",name:"-log10pvalue"}),(0,o.jsx)(k.d,{dataKey:"z",range:[0,30]}),(0,o.jsx)(_.u,{content:(0,o.jsx)(P,{}),cursor:{strokeDasharray:"3 3"}})]})};function an(){var n=(0,v.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return an=function(){return n},n}var on=g.Z.div(an()),ln=function(){var n=(0,r.Z)(i().mark((function n(t){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/PULSE/volcano_plot_web.csv"),n.next=3,W(e);case 3:return r=n.sent,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),sn=function(n){var t=n.protein,e=(0,m.useQuery)([t],(function(){return ln(t)})),r=e.status,a=e.data,i=(0,l.useState)("1.3"),s=i[0],u=i[1],c=(0,l.useState)("1"),d=c[0],h=c[1],p=""===s?"-10000":parseFloat(s),x=""===d?"-10000":parseFloat(d);return"loading"===r?(0,o.jsx)(G.Z,{}):"error"===r?(0,o.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(on,{children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsxs)(X.Z,{children:[(0,o.jsx)(T.Z,{children:"Minimum P-value"}),(0,o.jsx)(H.Z,{sx:{width:"200px"},value:s,onChange:function(n){return u(n.target.value)},error:!q(s)&&""!==s})]}),(0,o.jsxs)(X.Z,{children:[(0,o.jsx)(T.Z,{children:"Minimum log2 fold change"}),(0,o.jsx)(H.Z,{sx:{width:"250px"},value:d,onChange:function(n){return h(n.target.value)},error:!q(d)&&""!==d})]})]}),(0,o.jsx)(nn,{data:a,protein:t,minPvalue:p,minLog2FC:x})]})}),(0,o.jsx)(on,{children:(0,o.jsx)(rn,{data:a,minPvalue:p,minLog2FC:x})})]})},un=function(n){var t=n.protein,e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IF/").concat(t,"-Final.jpg"),r="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/WB/").concat(t,".jpg");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{alt:"N/A",src:r,height:"500px"}),(0,o.jsx)("img",{alt:"N/A",src:e,height:"500px"})]})};function cn(){var n=(0,v.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 30px;\n  gap: 20px;\n"]);return cn=function(){return n},n}var dn=g.Z.div(cn()),hn=function(n){var t=n.section,e=n.protein;return 0===t?(0,o.jsx)(dn,{children:(0,o.jsx)($,{protein:e})}):1===t?(0,o.jsx)(dn,{children:(0,o.jsx)(sn,{protein:e})}):2===t?(0,o.jsx)(dn,{children:(0,o.jsx)(un,{protein:e})}):(0,o.jsx)(dn,{children:"dataDisplay"})},pn=e(5113),xn=e(1265),fn=e(1927),mn=function(){var n=(0,r.Z)(i().mark((function n(){var t,e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",n.next=3,fetch("https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",{method:"get"});case 3:return t=n.sent,n.next=6,t.text();case 6:return e=n.sent,r=e.split(/\r?\n/).filter((function(n){return n})),n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),vn=(0,xn.Z)({palette:{primary:{main:z},secondary:{main:z}}}),gn=function(){var n=(0,m.useQuery)(["proteins"],mn),t=n.status,e=n.data,r=(0,l.useState)("AMBRA1"),a=r[0],i=r[1],u=(0,l.useState)(0),c=u[0],p=u[1];return"loading"===t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(h.l,{}),(0,o.jsx)("span",{children:"isLoading"})]}):(0,o.jsx)(fn.Z,{theme:vn,children:(0,o.jsxs)("div",{style:{display:"flex"},children:[(0,o.jsx)(h.l,{}),(0,o.jsx)(pn.Z,{elevation:20,sx:{maxWidth:"1300px"},children:(0,o.jsxs)("div",{style:{display:"block"},children:[(0,o.jsxs)(s.Z,{sx:{display:"flex",borderBottom:"1px solid grey"},children:[(0,o.jsx)(f,{options:e,value:a,onChange:function(n){i(n.target.value)}}),(0,o.jsx)(d,{value:c,onChange:function(n,t){p(t)}})]}),(0,o.jsx)(hn,{section:c,protein:a})]})})]})})}}},function(n){n.O(0,[206,720,774,888,179],(function(){return t=1440,n(n.s=t);var t}));var t=n.O();_N_E=t}]);