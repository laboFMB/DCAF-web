(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1440:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return e(3165)}])},8123:function(n,t,e){"use strict";e.d(t,{l:function(){return f}});var r=e(7297),a=e(5893),i=(e(7294),e(6829)),o=e(1664),l=e.n(o),s=e(1163),u=e(6638),c=e(4682);function d(){var n=(0,r.Z)(["\n  width: 50px;\n  min-height: 100%;\n  background-color: black;\n"]);return d=function(){return n},n}function h(){var n=(0,r.Z)(["\n  &:hover {\n    cursor: pointer;\n    background-color: # !important;\n    color: black !important;\n  }\n\n  ","\n"]);return h=function(){return n},n}var p=i.Z.div(d()),x=i.Z.div(h(),(function(n){return n.active&&"\nbackground-color: #04AA6D !important;\ncolor: white !important;\n  "})),f=function(){var n=(0,s.useRouter)();return(0,a.jsxs)(p,{children:[(0,a.jsx)(x,{active:"/"===n.pathname,children:(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)(u.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})}),(0,a.jsx)(x,{active:"/data"===n.pathname,children:(0,a.jsx)(l(),{href:"/data",children:(0,a.jsx)(c.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})})]})}},3165:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return gn}});var r=e(7568),a=e(414),i=e(5893),o=e(7294),l=e(1953),s=e(2348),u=e(8661),c=function(n){var t=n.value,e=n.onChange;return(0,i.jsxs)(s.Z,{variant:"fullWidth",value:t,onChange:function(n,t){e(n,t)},children:[(0,i.jsx)(u.Z,{disableRipple:!0,label:"Proximity Labeling"}),(0,i.jsx)(u.Z,{disableRipple:!0,label:"Pulse Silac"}),(0,i.jsx)(u.Z,{disableRipple:!0,label:"Localisation and Expression"})]})},d=e(8123),h=e(5966),p=e(7056),x=function(n){var t=n.options,e=n.value,r=n.onChange;return(0,i.jsx)("div",{style:{padding:"10px"},children:(0,i.jsx)(h.Z,{sx:{height:"40px"},value:e,onChange:r,children:t.map((function(n){return(0,i.jsx)(p.Z,{"data-testid":"".concat("protein-select","-",n),value:n,children:n},n)}))})})},f=e(59),m=e(7297),g=e(6829),v=e(5084),j=e(7260);function F(n,t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",n),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}var b=function(n,t){var e="",r=t.map((function(n){return n.field}));e+=r.join(",")+"\n",console.log(e);var a=!0,i=!1,o=void 0;try{for(var l,s=function(){var n=l.value;e+=r.map((function(t){return n[t]})).join(",")+"\n"},u=n[Symbol.iterator]();!(a=(l=u.next()).done);a=!0)s()}catch(c){i=!0,o=c}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}return e},y=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},C=function(n){var t=n.data,e=n.protein,r=n.minSaintScore,a=n.minLog2FC,o=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"log2FC"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["Saint Score"]>=parseFloat(""===r?"-100000":r)&&n.log2FC>=parseFloat(""===a?"-10000":a)})),s=t[0].map((function(n){return{field:n,type:["Saint Score","log2FC","id"].includes(n)?"number":"string",headerName:y(n),headerClassName:"grid-header",width:"id"===n?50:100}}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,i.jsx)(j._,{rowHeight:25,disableColumnMenu:!0,rows:o,columns:s})}),(0,i.jsx)(v.Z,{onClick:function(){return F("saint_".concat(e,".csv"),b(o,s))},children:"Export"})]})},w=e(1438),Z=e(3023),A=e(5358),S=e(6657),_=e(3222),M=e(4888),D=e(3558);function L(){var n=(0,m.Z)(["\n  display: block;\n  padding: 5px;\n  border-style: ridge;\n  background-color: white;\n"]);return L=function(){return n},n}var B=g.Z.div(L()),k=function(n){var t=n.active,e=n.payload;return t&&e&&e.length?(0,i.jsx)(B,{className:"custom-tooltip",children:(0,i.jsx)("div",{children:e[0].payload.name})}):null},P="#FF0000",N="#9900CC",E="#0000FF",K="#AAAAAA",U="#04AA6D",z=function(n){return{name:n[2],x:parseFloat(n[4]),y:parseFloat(n[3]),z:1}},R=function(n){var t=n.data,e=n.protein,r=n.minSaintScore,a=n.minLog2FC,o=[],l=[],s=[],u=[],c=[],d=[],h=!0,p=!1,x=void 0;try{for(var f,m=t.slice(1)[Symbol.iterator]();!(h=(f=m.next()).done);h=!0){var g=f.value;"CUL4A"===g[2]||"CUL4B"===g[2]?c.push(z(g)):"DDB1"===g[2]?u.push(z(g)):g[2]===e?d.push(z(g)):parseFloat(g[3])>=r&&parseFloat(g[4])>=a?(l.push(z(g)),o.push(z(g))):(s.push(z(g)),o.push(z(g)))}}catch(v){p=!0,x=v}finally{try{h||null==m.return||m.return()}finally{if(p)throw x}}return(0,i.jsxs)(w.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,i.jsx)(Z.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,i.jsx)(A.B,{label:{value:"SaintScore",angle:-90,position:"insideLeft",textAnchor:"middle"},dataKey:"y",domain:[0,1],type:"number",name:"saint score"}),(0,i.jsx)(S.d,{dataKey:"z",range:[0,30]}),(0,i.jsx)(_.b,{name:"Other",data:l,fill:U}),(0,i.jsx)(_.b,{name:"filtered",data:s,fill:K}),(0,i.jsx)(_.b,{name:"Cul4A & Cul4B",data:c,fill:N}),(0,i.jsx)(_.b,{name:"DDB1",data:u,fill:E}),(0,i.jsx)(_.b,{name:"DCAF",data:d,fill:P}),(0,i.jsx)(M.u,{content:(0,i.jsx)(k,{}),cursor:{strokeDasharray:"3 3"}}),(0,i.jsx)(D.D,{verticalAlign:"top",height:36,payload:[{value:"DCAF",color:P},{value:"CUL4A & CUL4B",color:N},{value:"DDB1",color:E}]})]})},O=e(7460),I=e.n(O),W=function(){var n=(0,r.Z)((function(n){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,e){return I().parse(n,{skipEmptyLines:!0,download:!0,complete:function(n){t(n.data)},error:function(n){e(n)}})}))];case 1:return[2,t.sent()]}}))}));return function(t){return n.apply(this,arguments)}}(),G=e(754),H=e(6866),T=e(8316),X=e(5343);function q(n){return!isNaN(parseFloat(n))&&isFinite(n)}function J(){var n=(0,m.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return J=function(){return n},n}var Q=g.Z.div(J()),V=function(){var n=(0,r.Z)((function(n){var t;return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return t="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(n,"/IP/saint_score_web.csv"),[4,W(t)];case 1:return[2,e.sent()]}}))}));return function(t){return n.apply(this,arguments)}}(),Y=function(n){var t=n.protein,e=(0,f.a)([t],(function(){return V(t)})),r=e.status,a=e.data,l=(0,o.useState)("0.7"),s=l[0],u=l[1],c=(0,o.useState)(""),d=c[0],h=c[1],p=""===s?"-10000":parseFloat(s),x=""===d?"-10000":parseFloat(d);return"loading"===r?(0,i.jsx)(G.Z,{}):"error"===r?(0,i.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Q,{children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsxs)(X.Z,{children:[(0,i.jsx)(T.Z,{children:"Minimum Saint Score"}),(0,i.jsx)(H.Z,{sx:{width:"200px"},value:s,onChange:function(n){return u(n.target.value)},error:!q(s)&&""!==s})]}),(0,i.jsxs)(X.Z,{children:[(0,i.jsx)(T.Z,{children:"Minimum log2 fold change"}),(0,i.jsx)(H.Z,{sx:{width:"250px"},value:d,onChange:function(n){return h(n.target.value)},error:!q(d)&&""!==d})]})]})}),(0,i.jsx)(C,{data:a,protein:t,minSaintScore:p,minLog2FC:x})]}),(0,i.jsx)(Q,{children:(0,i.jsx)(R,{data:a,protein:t,minSaintScore:p,minLog2FC:x})})]})},$=function(n){var t=n.data,e=n.protein,r=n.minPvalue,a=n.minLog2FC,o=t.slice(1).map((function(n){var e={};for(var r in n)""===t[0][r]&&(t[0][r]="id"),"P-value"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toExponential(2):"log2(Fold change)"===t[0][r]?e[t[0][r]]=parseFloat(n[r]).toFixed(3):e[t[0][r]]=n[r];return e})).filter((function(n){return n["P-value"]>=-1*Math.log10(parseFloat(""===r?"-100000":r))&&n["log2(Fold change)"]>=parseFloat(""===a?"-100000":a)})),s=t[0].map((function(n){return{field:n,headerName:y(n),type:["log2(Fold change)","P-value","id"].includes(n)?"number":"string",headerClassName:"grid-header",width:"id"===n?70:140}}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,i.jsx)(j._,{rowHeight:25,disableColumnMenu:!0,rows:o,columns:s})}),(0,i.jsx)(v.Z,{onClick:function(){return F("PULSE_".concat(e,".csv"),b(o,s))},children:"Export"})]})},nn=e(2763),tn=function(n){return{name:n[1],x:parseFloat(n[2]),y:-1*Math.log10(parseFloat(n[3])),z:1}},en=function(n){var t=n.data,e=n.minPvalue,r=n.minLog2FC,a=[],o=[],l=[],s=!0,u=!1,c=void 0;try{for(var d,h=t.slice(1)[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;-1*Math.log10(parseFloat(p[3]))>=e&&parseFloat(p[2])>=r?(o.push(tn(p)),a.push(tn(p))):(l.push(tn(p)),a.push(tn(p)))}}catch(x){u=!0,c=x}finally{try{s||null==h.return||h.return()}finally{if(u)throw c}}return console.log(a),console.log(o),console.log(l),(0,i.jsxs)(w.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,i.jsx)(_.b,{name:"Other",data:o,fill:U}),(0,i.jsx)(_.b,{name:"filtered",data:l,fill:K}),(0,i.jsx)(nn.e,{dataKey:"name"}),(0,i.jsx)(Z.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,i.jsx)(A.B,{label:{value:"-log10pvalue",angle:-90,position:"insideLeft",textAnchor:"middle"},domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],dataKey:"y",name:"-log10pvalue"}),(0,i.jsx)(S.d,{dataKey:"z",range:[0,30]}),(0,i.jsx)(M.u,{content:(0,i.jsx)(k,{}),cursor:{strokeDasharray:"3 3"}})]})};function rn(){var n=(0,m.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return rn=function(){return n},n}var an=g.Z.div(rn()),on=function(){var n=(0,r.Z)((function(n){var t;return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return t="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(n,"/PULSE/volcano_plot_web.csv"),[4,W(t)];case 1:return[2,e.sent()]}}))}));return function(t){return n.apply(this,arguments)}}(),ln=function(n){var t=n.protein,e=(0,f.a)([t],(function(){return on(t)})),r=e.status,a=e.data,l=(0,o.useState)("1.3"),s=l[0],u=l[1],c=(0,o.useState)("1"),d=c[0],h=c[1],p=""===s?"-10000":parseFloat(s),x=""===d?"-10000":parseFloat(d);return"loading"===r?(0,i.jsx)(G.Z,{}):"error"===r?(0,i.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(an,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsxs)(X.Z,{children:[(0,i.jsx)(T.Z,{children:"Minimum P-value"}),(0,i.jsx)(H.Z,{sx:{width:"200px"},value:s,onChange:function(n){return u(n.target.value)},error:!q(s)&&""!==s})]}),(0,i.jsxs)(X.Z,{children:[(0,i.jsx)(T.Z,{children:"Minimum log2 fold change"}),(0,i.jsx)(H.Z,{sx:{width:"250px"},value:d,onChange:function(n){return h(n.target.value)},error:!q(d)&&""!==d})]})]}),(0,i.jsx)($,{data:a,protein:t,minPvalue:p,minLog2FC:x})]})}),(0,i.jsx)(an,{children:(0,i.jsx)(en,{data:a,minPvalue:p,minLog2FC:x})})]})},sn=function(n){var t=n.protein,e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IF/").concat(t,"-Final.jpg"),r="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/WB/").concat(t,".jpg");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{alt:"N/A",src:r,height:"500px"}),(0,i.jsx)("img",{alt:"N/A",src:e,height:"500px"})]})};function un(){var n=(0,m.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 30px;\n  gap: 20px;\n"]);return un=function(){return n},n}var cn=g.Z.div(un()),dn=function(n){var t=n.section,e=n.protein;return 0===t?(0,i.jsx)(cn,{children:(0,i.jsx)(Y,{protein:e})}):1===t?(0,i.jsx)(cn,{children:(0,i.jsx)(ln,{protein:e})}):2===t?(0,i.jsx)(cn,{children:(0,i.jsx)(sn,{protein:e})}):(0,i.jsx)(cn,{children:"dataDisplay"})},hn=e(918),pn=e(9762),xn=e(1927),fn=function(){var n=(0,r.Z)((function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return"https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",[4,fetch("https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",{method:"get"})];case 1:return[4,t.sent().text()];case 2:return n=t.sent(),[2,n.split(/\r?\n/).filter((function(n){return n}))]}}))}));return function(){return n.apply(this,arguments)}}(),mn=(0,pn.Z)({palette:{primary:{main:U},secondary:{main:U}}}),gn=function(){var n=(0,f.a)(["proteins"],fn),t=n.status,e=n.data,r=(0,o.useState)("AMBRA1"),a=r[0],s=r[1],u=(0,o.useState)(0),h=u[0],p=u[1];return"loading"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.l,{}),(0,i.jsx)("span",{children:"isLoading"})]}):(0,i.jsx)(xn.Z,{theme:mn,children:(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(d.l,{}),(0,i.jsx)(hn.Z,{elevation:0,sx:{maxWidth:"1300px"},children:(0,i.jsxs)("div",{style:{display:"block"},children:[(0,i.jsxs)(l.Z,{sx:{display:"flex",borderBottom:"1px solid grey"},children:[(0,i.jsx)(x,{options:e,value:a,onChange:function(n){s(n.target.value)}}),(0,i.jsx)(c,{value:h,onChange:function(n,t){p(t)}})]}),(0,i.jsx)(dn,{section:h,protein:a})]})})]})})}}},function(n){n.O(0,[516,90,774,888,179],(function(){return t=1440,n(n.s=t);var t}));var t=n.O();_N_E=t}]);