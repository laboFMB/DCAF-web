(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{1440:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data",function(){return e(4105)}])},8123:function(n,t,e){"use strict";e.d(t,{l:function(){return x}});var r=e(7297),a=e(5893),i=(e(7294),e(6829)),o=e(1664),l=e.n(o),u=e(1163),s=e(6638),c=e(4682);function d(){var n=(0,r.Z)(["\n  width: 50px;\n  min-height: 100%;\n  background-color: black;\n"]);return d=function(){return n},n}function f(){var n=(0,r.Z)(["\n  &:hover {\n    cursor: pointer;\n    background-color: # !important;\n    color: black !important;\n  }\n\n  ","\n"]);return f=function(){return n},n}var h=i.Z.nav(d()),p=i.Z.div(f(),(function(n){return n.active&&"\nbackground-color: #04AA6D !important;\ncolor: white !important;\n  "})),x=function(){var n=(0,u.useRouter)();return(0,a.jsxs)(h,{children:[(0,a.jsx)(p,{active:"/"===n.pathname,children:(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)(s.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})}),(0,a.jsx)(p,{active:"/data"===n.pathname,children:(0,a.jsx)(l(),{href:"/data",children:(0,a.jsx)(c.Z,{sx:{color:"white",padding:"8px"},fontSize:"large"})})})]})}},4512:function(n,t,e){"use strict";e.d(t,{S:function(){return l},Y:function(){return u}});var r=e(7297),a=e(6829);function i(){var n=(0,r.Z)(["\n  display: flex;\n  height: 100%;\n"]);return i=function(){return n},n}function o(){var n=(0,r.Z)(["\n  padding: 0px 20px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  width: 100%;\n"]);return o=function(){return n},n}var l=a.Z.div(i()),u=a.Z.main(o())},4105:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return Un}});var r=e(7568),a=e(414),i=e(5893),o=e(7294),l=e(1953),u=e(4512),s=e(2348),c=e(8661),d=function(n){var t=n.value,e=n.onChange;return(0,i.jsxs)(s.Z,{variant:"fullWidth",value:t,onChange:function(n,t){e(n,t)},children:[(0,i.jsx)(c.Z,{disableRipple:!0,label:"Proximity Labeling"}),(0,i.jsx)(c.Z,{disableRipple:!0,label:"Pulse Silac"}),(0,i.jsx)(c.Z,{disableRipple:!0,label:"Localisation and Expression"})]})},f=e(8123),h=e(5966),p=e(7056),x=function(n){var t=n.options,e=n.value,r=n.onChange;return(0,i.jsx)("div",{style:{padding:"10px"},children:(0,i.jsx)(h.Z,{sx:{height:"40px"},value:e,onChange:r,children:t.map((function(n){return(0,i.jsx)(p.Z,{"data-testid":"".concat("protein-select","-",n),value:n,children:n},n)}))})})},g=e(59),v=e(7297),m=e(6829),j=e(754),y=e(6866),b=e(8316),w=e(5343),F=e(5084),C=e(7260);function Z(n,t){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),e.setAttribute("download",n),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}var S=function(n,t){var e="",r=t.map((function(n){return n.field}));e+=r.join(",")+"\n";var a=!0,i=!1,o=void 0;try{for(var l,u=function(){var n=l.value;e+=r.map((function(t){return n[t]})).join(",")+"\n"},s=n[Symbol.iterator]();!(a=(l=s.next()).done);a=!0)u()}catch(c){i=!0,o=c}finally{try{a||null==s.return||s.return()}finally{if(i)throw o}}return e},M=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};var L=function(n){var t=n.saintData,e=n.protein,r=function(n){var t=n.header,e=n.rows,r=t.map((function(n){return{field:(t=n,t.split(" ").map((function(n,t){return 0===t?n.toLowerCase():M(n)})).join("")),type:["Saint Score","log2FC","id"].includes(n)?"number":"string",headerName:M(n),headerClassName:"grid-header",width:"id"===n?50:100};var t}));return{rows:e.map((function(n){return{id:n.id.toString(),bait:n.bait,preyGene:n.prey,saintScore:n.saintScore.toFixed(3),log2fc:n.log2FC.toFixed(3)}})),columns:r}}(t),a=r.rows,o=r.columns;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,i.jsx)(C._,{rowHeight:25,disableColumnMenu:!0,rows:a,columns:o})}),(0,i.jsx)(F.Z,{onClick:function(){return Z("saint_".concat(e,".csv"),S(a,o))},children:"Export"})]})},A=e(1438),k=e(3023),_=e(5358),D=e(6657),V=e(3222),B=e(4888),N=e(3558);function P(){var n=(0,v.Z)(["\n  display: block;\n  padding: 5px;\n  border-style: ridge;\n  background-color: white;\n"]);return P=function(){return n},n}var E=m.Z.div(P()),K=function(n){var t=n.active,e=n.payload;return t&&e&&e.length?(0,i.jsx)(E,{className:"custom-tooltip",children:(0,i.jsx)("div",{children:e[0].payload.name})}):null},z="#FF0000",U="#9900CC",R="#0000FF",I="#AAAAAA",O="#04AA6D",G=function(n){return{name:n.prey,x:n.log2FC,y:n.saintScore,z:1}},H=function(n){var t=n.saintData,e=n.filterMask,r=n.protein,a=t.rows,o=[],l=[],u=[],s=[],c=[];return a.length!==e.length?(console.error("data and filterMask length mismatch"),null):(a.forEach((function(n,t){"CUL4A"===n.prey||"CUL4B"===n[2]?s.push(G(n)):"DDB1"===n.prey?u.push(G(n)):n.prey===r?c.push(G(n)):e[t]?o.push(G(n)):l.push(G(n))})),(0,i.jsxs)(A.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,i.jsx)(k.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,i.jsx)(_.B,{label:{value:"SaintScore",angle:-90,position:"insideLeft",textAnchor:"middle"},dataKey:"y",domain:[0,1],type:"number",name:"saint score"}),(0,i.jsx)(D.d,{dataKey:"z",range:[0,30]}),(0,i.jsx)(V.b,{name:"Other",data:o,fill:O}),(0,i.jsx)(V.b,{name:"filtered",data:l,fill:I}),(0,i.jsx)(V.b,{name:"Cul4A & Cul4B",data:s,fill:U}),(0,i.jsx)(V.b,{name:"DDB1",data:u,fill:R}),(0,i.jsx)(V.b,{name:"DCAF",data:c,fill:z}),(0,i.jsx)(B.u,{content:(0,i.jsx)(K,{}),cursor:{strokeDasharray:"3 3"}}),(0,i.jsx)(N.D,{verticalAlign:"top",height:36,payload:[{value:"DCAF",color:z},{value:"CUL4A & CUL4B",color:U},{value:"DDB1",color:R}]})]}))};function T(n){return!isNaN(parseFloat(n))&&isFinite(n)}function W(n){return T(n)?parseFloat(n):-1e4}function X(){var n=(0,v.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return X=function(){return n},n}function Y(){var n=(0,v.Z)(["\n  display: flex;\n"]);return Y=function(){return n},n}var q=function(n){var t=n.protein,e=n.saintService;return"loading"===e.status?(0,i.jsx)(j.Z,{}):"error"===e.status?(0,i.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)($,{children:[(0,i.jsxs)(nn,{children:[(0,i.jsx)(J,{minSaintScore:e.minSaintScore,setMinSaintScore:e.setMinSaintScore}),(0,i.jsx)(Q,{minLog2FC:e.minLog2FC,setMinLog2FC:e.setMinLog2FC})]}),(0,i.jsx)(L,{saintData:e.filter(),protein:t})]}),(0,i.jsx)($,{children:(0,i.jsx)(H,{saintData:e.data,filterMask:e.getFilterMask(),protein:t})})]})},J=function(n){var t=n.minSaintScore,e=n.setMinSaintScore;return(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(b.Z,{children:"Minimum Saint Score"}),(0,i.jsx)(y.Z,{sx:{width:"200px"},value:t,onChange:function(n){return e(n.target.value)},error:!T(t)&&""!==t})]})},Q=function(n){var t=n.minLog2FC,e=n.setMinLog2FC;return(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(b.Z,{children:"Minimum log2 fold change"}),(0,i.jsx)(y.Z,{sx:{width:"250px"},value:t,onChange:function(n){return e(n.target.value)},error:!T(t)&&""!==t})]})},$=m.Z.div(X()),nn=m.Z.div(Y()),tn=e(7460),en=e.n(tn),rn=function(){var n=(0,r.Z)((function(n){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t,e){return en().parse(n,{skipEmptyLines:!0,download:!0,complete:function(n){t(n.data)},error:function(n){e(n)}})}))];case 1:return[2,t.sent()]}}))}));return function(t){return n.apply(this,arguments)}}(),an=function(){var n=(0,r.Z)((function(n){var t,e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return t="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(n,"/IP/saint_score_web.csv"),[4,rn(t)];case 1:return e=r.sent(),[2,on(e)]}}))}));return function(t){return n.apply(this,arguments)}}(),on=function(n){return{header:n[0].map((function(n){return n.trim()||"id"})),rows:n.slice(1).map((function(n){return{id:parseInt(n[0]),bait:n[1],prey:n[2],saintScore:parseFloat(n[3]),log2FC:parseFloat(n[4])}}))}},ln=function(n){var t=function(){var n=W(l),t=W(c);return a.rows.map((function(e){return e.saintScore>=n&&e.log2FC>=t}))},e=function(n){return(0,g.a)(["saint",n],(function(){return an(n)}))}(n),r=e.status,a=e.data,i=(0,o.useState)("0.7"),l=i[0],u=i[1],s=(0,o.useState)(""),c=s[0],d=s[1];return{status:r,data:a,filter:function(){var n=t();return{header:a.header,rows:a.rows.filter((function(t,e){return n[e]}))}},getFilterMask:t,minSaintScore:l,setMinSaintScore:u,minLog2FC:c,setMinLog2FC:d}};var un=function(n){var t=n.pulseData,e=n.protein,r=function(n){var t=n.header,e=n.rows,r=t.map((function(n){return{field:(t=n,t.replace("("," ").replace(")"," ").replace("-"," ").split(" ").map((function(n,t){return 0===t?n.toLowerCase():M(n)})).join("")),headerName:M(n),type:["log2(Fold change)","P-value","id"].includes(n)?"number":"string",headerClassName:"grid-header",width:"id"===n?70:140};var t}));return{rows:e.map((function(n){return{id:n.id.toString(),geneName:n.geneName,log2FoldChange:n.log2FC.toFixed(3),pValue:n.pValue.toExponential(2)}})),columns:r}}(t),a=r.rows,o=r.columns;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Z,{sx:{height:400,width:600,"& .grid-header":{borderBottom:"1px solid grey"}},children:(0,i.jsx)(C._,{rowHeight:25,disableColumnMenu:!0,rows:a,columns:o})}),(0,i.jsx)(F.Z,{onClick:function(){return Z("pulse_".concat(e,".csv"),S(a,o))},children:"Export"})]})},sn=e(2763),cn=function(n){return{name:n.geneName,x:n.log2FC,y:n.log10pVal,z:1}},dn=function(n){var t=n.pulseData,e=n.filterMask,r=t.rows,a=[],o=[];return r.length!==e.length?(console.error("data and filterMask length mismatch"),null):(r.forEach((function(n,t){e[t]?a.push(cn(n)):o.push(cn(n))})),(0,i.jsxs)(A.G,{width:600,height:450,margin:{top:50,right:20,bottom:20,left:10},children:[(0,i.jsx)(V.b,{name:"Other",data:a,fill:O}),(0,i.jsx)(V.b,{name:"filtered",data:o,fill:I}),(0,i.jsx)(sn.e,{dataKey:"name"}),(0,i.jsx)(k.K,{label:{value:"log2FC",position:"bottom",textAnchor:"middle"},dataKey:"x",domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],type:"number",name:"log2FC"}),(0,i.jsx)(_.B,{label:{value:"-log10pvalue",angle:-90,position:"insideLeft",textAnchor:"middle"},domain:[function(n){return Math.floor(n)},function(n){return Math.ceil(n)}],dataKey:"y",name:"-log10pvalue"}),(0,i.jsx)(D.d,{dataKey:"z",range:[0,30]}),(0,i.jsx)(B.u,{content:(0,i.jsx)(K,{}),cursor:{strokeDasharray:"3 3"}})]}))};function fn(){var n=(0,v.Z)(["\n  height: 450px;\n  min-width: 600px;\n"]);return fn=function(){return n},n}function hn(){var n=(0,v.Z)(["\n  display: flex;\n"]);return hn=function(){return n},n}var pn=function(n){var t=n.protein,e=n.pulseService;return"loading"===e.status?(0,i.jsx)(j.Z,{}):"error"===e.status?(0,i.jsx)("div",{style:{color:"red"},children:"Failed to recover the data."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(vn,{children:[(0,i.jsxs)(mn,{children:[(0,i.jsx)(xn,{minPValue:e.minPValue,setMinPValue:e.setMinPValue}),(0,i.jsx)(gn,{maxLog2FC:e.maxLog2FC,setMaxLog2FC:e.setMaxLog2FC})]}),(0,i.jsx)(un,{pulseData:e.filter(),protein:t})]}),(0,i.jsx)(vn,{children:(0,i.jsx)(dn,{pulseData:e.data,filterMask:e.getFilterMask()})})]})},xn=function(n){var t=n.minPValue,e=n.setMinPValue;return(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(b.Z,{children:"Minimum P-value"}),(0,i.jsx)(y.Z,{sx:{width:"200px"},value:t,onChange:function(n){return e(n.target.value)},error:!T(t)&&""!==t})]})},gn=function(n){var t=n.maxLog2FC,e=n.setMaxLog2FC;return(0,i.jsxs)(w.Z,{children:[(0,i.jsx)(b.Z,{children:"Maximum log2 fold change"}),(0,i.jsx)(y.Z,{sx:{width:"250px"},value:t,onChange:function(n){return e(n.target.value)},error:!T(t)&&""!==t})]})},vn=m.Z.div(fn()),mn=m.Z.div(hn()),jn=function(){var n=(0,r.Z)((function(n){var t,e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return t="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(n,"/PULSE/volcano_plot_web.csv"),[4,rn(t)];case 1:return e=r.sent(),[2,yn(e)]}}))}));return function(t){return n.apply(this,arguments)}}(),yn=function(n){return{header:n[0].map((function(n){return n.trim()||"id"})),rows:n.slice(1).map((function(n){return{id:parseInt(n[0]),geneName:n[1],log2FC:parseFloat(n[2]),pValue:parseFloat(n[3]),log10pVal:-1*Math.log10(parseFloat(n[3]))}}))}},bn=function(n){var t=function(){var n=W(l),t=W(c);return a.rows.map((function(e){return e.log10pVal>=n&&e.log2FC<=t}))},e=function(n){return(0,g.a)(["pulse",n],(function(){return jn(n)}))}(n),r=e.status,a=e.data,i=(0,o.useState)("3"),l=i[0],u=i[1],s=(0,o.useState)("-1"),c=s[0],d=s[1];return{status:r,data:a,filter:function(){var n=t();return{header:a.header,rows:a.rows.filter((function(t,e){return n[e]}))}},getFilterMask:t,minPValue:l,setMinPValue:u,maxLog2FC:c,setMaxLog2FC:d}};function wn(){var n=(0,v.Z)(["\n  padding-top: 40px;\n  display: flex;\n  justify-content: center;\n"]);return wn=function(){return n},n}function Fn(){var n=(0,v.Z)(["\n  width: 300px;\n  height: 300px;\n  display: flex;\n  margin-right: -100px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 255, 0.2);\n\n  position: relative;\n  &:after {\n    content: '","';\n    position: absolute;\n    top: 0;\n    left: 0;\n"]);return Fn=function(){return n},n}function Cn(){var n=(0,v.Z)(["\n  width: 300px;\n  height: 300px;\n  display: flex;\n  margin: 0px -100px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  background-color: transparent;\n  z-index: 2;\n"]);return Cn=function(){return n},n}function Zn(){var n=(0,v.Z)(["\n  width: 300px;\n  height: 300px;\n  display: flex;\n  margin-left: -100px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  background-color: rgba(255, 0, 0, 0.2);\n\n  position: relative;\n  &:after {\n    content: '","';\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"]);return Zn=function(){return n},n}var Sn=function(n){var t=n.saintService,e=n.pulseService;if("loading"===t.status||"loading"===e.status)return null;if("error"===t.status||"error"===e.status)return null;var r=t.filter(),a=e.filter(),o=function(n,t){var e=0,r=new Set,a=!0,i=!1,o=void 0;try{for(var l,u=n.rows[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var s=l.value,c=!0,d=!1,f=void 0;try{for(var h,p=s.prey.split(";")[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var x=h.value;r.add(x)}}catch(L){d=!0,f=L}finally{try{c||null==p.return||p.return()}finally{if(d)throw f}}}}catch(L){i=!0,o=L}finally{try{a||null==u.return||u.return()}finally{if(i)throw o}}var g=!0,v=!1,m=void 0;try{for(var j,y=t.rows[Symbol.iterator]();!(g=(j=y.next()).done);g=!0){var b=j.value,w=!0,F=!1,C=void 0;try{for(var Z,S=b.geneName.split(";")[Symbol.iterator]();!(w=(Z=S.next()).done);w=!0){var M=Z.value;r.has(M)&&e++}}catch(L){F=!0,C=L}finally{try{w||null==S.return||S.return()}finally{if(F)throw C}}}}catch(L){v=!0,m=L}finally{try{g||null==y.return||y.return()}finally{if(v)throw m}}return e}(r,a);return(0,i.jsx)(Mn,{leftValue:r.rows.length,leftLabel:"Proximity Labeling",rightValue:a.rows.length,rightLabel:"Pulse Silac",overlapValue:o})},Mn=function(n){var t=n.leftValue,e=n.leftLabel,r=n.rightValue,a=n.rightLabel,o=n.overlapValue;return(0,i.jsxs)(Ln,{children:[(0,i.jsx)(An,{label:e,children:t}),(0,i.jsx)(kn,{children:o}),(0,i.jsx)(_n,{label:a,children:r})]})},Ln=m.Z.div(wn()),An=m.Z.div(Fn(),(function(n){return n.label})),kn=m.Z.div(Cn()),_n=m.Z.div(Zn(),(function(n){return n.label})),Dn=function(n){var t=n.protein,e="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/IF/").concat(t,"-Final.jpg"),r="https://raw.githubusercontent.com/laboFMB/DCAF-data/main/data/".concat(t,"/WB/").concat(t,".jpg");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{alt:"N/A",src:r,height:"500px"}),(0,i.jsx)("img",{alt:"N/A",src:e,height:"500px"})]})};function Vn(){var n=(0,v.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 30px;\n  gap: 20px;\n  & > div {\n    flex: 50%;\n    max-width: 600px;\n  }\n"]);return Vn=function(){return n},n}var Bn=m.Z.div(Vn()),Nn=function(n){var t=n.section,e=n.protein,r=ln(e),a=bn(e);return 0===t?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(Bn,{children:[(0,i.jsx)(q,{saintService:r,protein:e}),(0,i.jsx)(Sn,{saintService:r,pulseService:a})]})}):1===t?(0,i.jsxs)(Bn,{children:[(0,i.jsx)(pn,{pulseService:a,protein:e}),(0,i.jsx)(Sn,{saintService:r,pulseService:a})]}):2===t?(0,i.jsx)(Bn,{children:(0,i.jsx)(Dn,{protein:e})}):(0,i.jsx)(Bn,{children:"dataDisplay"})},Pn=e(9762),En=e(1927),Kn=function(){var n=(0,r.Z)((function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return"https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",[4,fetch("https://raw.githubusercontent.com/laboFMB/DCAF-data/main/dcaf_list.txt",{method:"get"})];case 1:return[4,t.sent().text()];case 2:return n=t.sent(),[2,n.split(/\r?\n/).filter((function(n){return n}))]}}))}));return function(){return n.apply(this,arguments)}}(),zn=(0,Pn.Z)({palette:{primary:{main:O},secondary:{main:O}}}),Un=function(){var n=(0,g.a)(["proteins"],Kn),t=n.status,e=n.data,r=(0,o.useState)("AMBRA1"),a=r[0],s=r[1],c=(0,o.useState)(0),h=c[0],p=c[1];return"loading"===t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f.l,{}),(0,i.jsx)("span",{children:"isLoading"})]}):(0,i.jsx)(En.Z,{theme:zn,children:(0,i.jsxs)(u.S,{children:[(0,i.jsx)(f.l,{}),(0,i.jsxs)(u.Y,{children:[(0,i.jsxs)(l.Z,{sx:{display:"flex",borderBottom:"1px solid grey"},children:[(0,i.jsx)(x,{options:e,value:a,onChange:function(n){s(n.target.value)}}),(0,i.jsx)(d,{value:h,onChange:function(n,t){p(t)}})]}),(0,i.jsx)(Nn,{section:h,protein:a})]})]})})}}},function(n){n.O(0,[516,90,774,888,179],(function(){return t=1440,n(n.s=t);var t}));var t=n.O();_N_E=t}]);